# Smart Tools Environment Configuration Example
# Copy this file to .env and configure with your values

# =============================================================================
# API CONFIGURATION (Required)
# =============================================================================

# Gemini API Configuration
GOOGLE_API_KEY=your_primary_gemini_api_key_here
GOOGLE_API_KEY2=your_secondary_key_here  # Optional: Secondary key for rate limit fallback

# =============================================================================
# RETRY & RATE LIMITING CONFIGURATION
# =============================================================================

# Engine retry configuration for API failures
ENGINE_MAX_RETRIES=3                     # Maximum retry attempts for failed engines (default: 3)
ENGINE_BASE_RETRY_DELAY=1.0              # Base delay in seconds for exponential backoff (default: 1.0)
ENGINE_MAX_RETRY_DELAY=30.0              # Maximum delay between retries in seconds (default: 30.0)

# Gemini API rate limiting
GEMINI_REQUEST_TIMEOUT=30                # Request timeout in seconds (default: 30)
GEMINI_MCP_LOG_LEVEL=INFO               # Logging level: DEBUG, INFO, WARNING, ERROR (default: INFO)

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================

# CPU Throttling Configuration
MAX_CPU_USAGE_PERCENT=80.0              # CPU usage threshold for throttling (default: 80%)
CPU_CHECK_INTERVAL_SECONDS=0.1          # How often to check CPU usage (default: 0.1s)
API_CALL_CHECK_INTERVAL_SECONDS=0.5     # API call monitoring interval (default: 0.5s)
FILE_SCAN_YIELD_FREQUENCY=50            # Files processed per CPU check (default: 50)

# File Content Caching
ENABLE_FILE_CACHE=true                  # Enable file content caching (default: true)
CACHE_FILE_EXTENSIONS=.py,.js,.ts,.java # File types to cache (default: common code extensions)
CACHE_DIR_LIMIT=100                     # Max files per directory to cache (default: 100)

# =============================================================================
# EXECUTION MODE CONFIGURATION
# =============================================================================

# Investigate Tool Configuration
INVESTIGATE_EXECUTION_MODE=parallel      # Execution mode: parallel or sequential (default: parallel)
INVESTIGATE_SEQUENTIAL_FALLBACK=true     # Fallback to sequential on high memory (default: true)
INVESTIGATE_MEMORY_FALLBACK_THRESHOLD=85 # Memory % to trigger sequential fallback (default: 85)

# Validate Tool Configuration  
VALIDATE_MEMORY_THRESHOLD=85            # Memory % for reduced parallelism (default: 85)

# Understand Tool Configuration
UNDERSTAND_MEMORY_THRESHOLD=90          # Memory % for reduced parallelism (default: 90)

# =============================================================================
# SMART TOOL ROUTING CONFIGURATION
# =============================================================================

# Intent-based routing
SMART_TOOL_ROUTING_CONFIDENCE=0.7       # Confidence threshold for intent routing (default: 0.7)
ENABLE_MULTI_ENGINE_SYNTHESIS=true      # Enable multi-engine result synthesis (default: true)
MAX_ENGINES_PER_SMART_TOOL=5           # Max concurrent engines per tool (default: 5)

# Correlation Analysis
ENABLE_CORRELATION_ANALYSIS=true        # Enable cross-engine correlation analysis (default: true)

# =============================================================================
# PROJECT CONTEXT AWARENESS
# =============================================================================

# Context file detection (files are auto-detected, these control behavior)
READ_PROJECT_CONTEXT=true               # Read CLAUDE.md and GEMINI.md files (default: true)
MAX_CONTEXT_FILE_SIZE=50000            # Max size in bytes for context files (default: 50000)

# =============================================================================
# DEBUG & DEVELOPMENT
# =============================================================================

# Development settings
ENABLE_DEBUG_LOGGING=false              # Enable verbose debug logging (default: false)
SAVE_ENGINE_OUTPUTS=false               # Save engine outputs to files for debugging (default: false)
PROFILE_PERFORMANCE=false               # Enable performance profiling (default: false)

# Test configuration
TEST_MODE=false                         # Run in test mode with mocked APIs (default: false)
MOCK_GEMINI_RESPONSES=false            # Use mock responses instead of real API (default: false)

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Memory management
MEMORY_WARNING_THRESHOLD=75            # Memory % to log warnings (default: 75)
MEMORY_CRITICAL_THRESHOLD=90           # Memory % for critical alerts (default: 90)

# Parallel execution limits
MAX_PARALLEL_ENGINES=6                  # Maximum engines running simultaneously (default: 6)
MIN_PARALLEL_ENGINES=2                  # Minimum engines when memory constrained (default: 2)

# Error handling
ERROR_HISTORY_SIZE=50                   # Number of errors to keep in history (default: 50)
RETRY_ON_NETWORK_ERROR=true            # Retry on network errors (default: true)
RETRY_ON_SERVER_ERROR=true             # Retry on 5xx server errors (default: true)

# =============================================================================
# DEPRECATED (Kept for backward compatibility)
# =============================================================================

# These settings are deprecated but still supported
# GEMINI_MODELS_CONFIG=models.json       # Deprecated: Use default models
# ENABLE_LEGACY_MODE=false               # Deprecated: Legacy mode removed